<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini E-shop Asity</title>
<style>
body { font-family:sans-serif; margin:0; padding:0; background:#fff; color:#fff; text-align:center;}
header { padding:15px 20px; background:#111; display:flex; justify-content:center; align-items:center; gap:20px; position:relative;}
header img { max-width:600px; height:auto; cursor:pointer; }
.navbar { display:flex; justify-content:center; gap:20px; margin:15px 0; }
.navbar button { padding:10px 20px; font-size:16px; cursor:pointer; background:#222; color:#fff; border:none; border-radius:5px; }
.navbar button.active { background:#6772e5; }
.section { display:none; }
.section.active { display:block; }
.product{margin:25px auto 30px auto; background:#111; padding:20px; max-width:400px; box-shadow:0 2px 5px rgba(255,255,255,0.2); border-radius:10px;}
.carousel{position:relative; margin-bottom:15px; display:flex; justify-content:center; align-items:center;}
.carousel img{max-width:100%; display:block; border-radius:5px; cursor:pointer;}
.arrow{position:absolute; top:50%; transform:translateY(-50%); font-size:30px; color:#fff; cursor:pointer; background:rgba(0,0,0,0.4); padding:5px 10px; border-radius:5px; user-select:none;}
.arrow.left{left:5px;} 
.arrow.right{right:5px;}
.size-container, .qty-container{margin:15px 0; text-align:center;}
.size-container select, .qty-container select{width:50%; padding:10px; font-size:16px; border-radius:5px; border:none; text-align:center;}
.product button{padding:10px 20px; font-size:16px; cursor:pointer; background:#6772e5; color:#fff; border:none; border-radius:5px; margin-top:10px;}
.cart-container { text-align:center; display:flex; flex-direction:column; align-items:center; }
.cart-price{ font-size:14px; color:#0f0; margin-top:5px; }
.cart-icon{ font-size:24px; cursor:pointer; margin-top:5px; }
.cart-modal{display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:999; justify-content:center; align-items:center;}
.cart{background:#111; padding:15px 20px; max-width:350px; width:90%; border-radius:10px; box-shadow:0 2px 10px rgba(255,255,255,0.3); position:relative; text-align:center; max-height:90vh; overflow-y:auto;}
.cart input, .cart select, .cart textarea{width:90%; padding:8px; margin:5px 0; font-size:14px; border-radius:4px; border:none;}
.cart textarea{resize:vertical; min-height:50px;}
.cart button{padding:10px 16px; font-size:15px; cursor:pointer; background:#6772e5; color:#fff; border:none; border-radius:5px; margin-top:10px;}
.close-btn{position:absolute; top:10px; right:15px; font-size:20px; color:#fff; cursor:pointer;}
.remove-item{cursor:pointer; color:red; margin-left:8px; font-weight:bold;}
label{display:block; margin-top:6px;}
.lightbox{display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); justify-content:center; align-items:center; z-index:1000; flex-direction:column; cursor:pointer;}
.lightbox img{max-width:90%; max-height:90%; border-radius:5px; cursor:pointer;}
.lightbox .close-lightbox{position:absolute; top:15px; right:20px; font-size:30px; color:#fff; cursor:pointer;}
#addCartPopup, #orderPopup { display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, 20px); background:#222; color:#fff; padding:15px 20px; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,0.5); z-index:1001; text-align:center; opacity:0; transition: opacity 0.3s ease, transform 0.3s ease; max-width:90%; }
#addCartPopup.show, #orderPopup.show { display:block; opacity:1; transform:translate(-50%, 0); }
#addCartPopup button, #orderPopup button { margin:5px; padding:8px 12px; border:none; border-radius:5px; cursor:pointer; }
#addCartPopup #continueShopping{background:#6772e5; color:#fff;}
#addCartPopup #goToCart{background:#0f0; color:#000;}
#orderPopup button{background:#6772e5; color:#fff;}
#contactFormContainer{ margin:40px auto; max-width:400px; text-align:center; background:#111; padding:20px; border-radius:10px; box-shadow:0 2px 5px rgba(255,255,255,0.2); }
#contactForm input, #contactForm textarea{ width:90%; padding:10px; margin:5px 0; border-radius:5px; border:none;}
#contactForm button{ padding:10px 20px; margin-top:10px; border:none; border-radius:5px; background:#6772e5; color:#fff; cursor:pointer; }
#photoContainer { display:grid; grid-template-columns:repeat(auto-fit, minmax(150px, 1fr)); gap:10px; padding:20px; }
#photoContainer img { width:100%; border-radius:5px; cursor:pointer; }
#cod { transform: scale(1.2); margin-right:8px; vertical-align:middle; }
.cart label { display:flex; justify-content:center; align-items:center; gap:8px; }
@media (max-width:600px){
  header img{ max-width:80%; height:auto; }
  .arrow{font-size:24px; padding:4px 8px;}
  .size-container select, .qty-container select{width:70%; font-size:14px;}
  .cart input, .cart select, .cart textarea{width:95%; font-size:13px;}
  .cart{max-width:95%;}
  #addCartPopup, #orderPopup{padding:12px 15px; font-size:14px;}
}
</style>
</head>
<body>

<header>
  <img src="DWDasitynormalny.jpg" alt="Logo">
</header>

<div class="navbar">
  <button id="shopBtn">Shop</button>
  <button id="photoBtn" class="active">Photos</button>
</div>

<!-- SHOP SECTION -->
<div id="shopSection" class="section">
  <!-- Produkt 1 -->
  <div class="product">
    <h2>Triƒçko</h2>
    <div class="carousel">
      <span class="arrow left" data-product="1">&#10094;</span>
      <img src="trikomore.jpg" id="productImg1" alt="Triƒçko">
      <span class="arrow right" data-product="1">&#10095;</span>
    </div>
    <div class="size-container">
      <label for="size1">Veƒækos≈•:</label>
      <select id="size1">
        <option value="M" selected>M</option>
        <option value="L">L</option>
        <option value="XL">XL</option>
      </select>
    </div>
    <div class="qty-container">
      <label for="quantity1">Poƒçet kusov:</label>
      <select id="quantity1">
        <option value="1" selected>1</option>
        <option value="2">2</option>
        <option value="3">3</option>
      </select>
    </div>
    <p>Cena: 23 ‚Ç¨</p>
    <p>Popis produktu: 100% cotton.</p>
    <div class="add-cart-row" style="display:flex; align-items:center; justify-content:center; gap:15px;">
      <button class="addToCartBtn" data-product="Triƒçko" data-price="23" data-size="size1" data-qty="quantity1">Prida≈• do ko≈°√≠ka</button>
      <div class="cart-container">
        <div class="cart-price">0 ‚Ç¨</div>
        <div class="cart-icon">üõí</div>
      </div>
    </div>
  </div>

  <!-- Produkt 2 -->
  <div class="product">
    <h2>Plag√°t</h2>
    <div class="carousel">
      <span class="arrow left" data-product="2">&#10094;</span>
      <img src="0001.jpg" id="productImg2" alt="Hoodie">
      <span class="arrow right" data-product="2">&#10095;</span>
    </div>
    <div class="size-container">
      <label for="size2">Veƒækos≈•:</label>
      <select id="size2">
        <option value="A2" selected>A2</option>
        <option value="L">L</option>
        <option value="XL">XL</option>
      </select>
    </div>
    <div class="qty-container">
      <label for="quantity2">Poƒçet kusov:</label>
      <select id="quantity2">
        <option value="1" selected>1</option>
        <option value="2">2</option>
        <option value="3">3</option>
      </select>
    </div>
    <p>Cena: 12 ‚Ç¨</p>
    <p>Popis produktu: Warm and cozy hoodie.</p>
    <div class="add-cart-row" style="display:flex; align-items:center; justify-content:center; gap:15px;">
      <button class="addToCartBtn" data-product="Hoodie" data-price="35" data-size="size2" data-qty="quantity2">Prida≈• do ko≈°√≠ka</button>
      <div class="cart-container">
        <div class="cart-price">0 ‚Ç¨</div>
        <div class="cart-icon">üõí</div>
      </div>
    </div>
  </div>

  <!-- FORMUL√ÅR KONTAKTUJTE N√ÅS (len tu) -->
  <div id="contactFormContainer">
    <h3>Kontaktujte n√°s</h3>
    <form id="contactForm" action="https://formspree.io/f/xeolddoa" method="POST">
      <input type="text" name="name" placeholder="Meno" required>
      <input type="email" name="email" placeholder="Email" required>
      <textarea name="message" placeholder="Spr√°va" required></textarea>
      <button type="submit">Odosla≈•</button>
    </form>
    <p id="contactStatus" style="margin-top:10px;"></p>
  </div>
</div>

<!-- PHOTOS SECTION -->
<div id="photoSection" class="section active">
  <h2>Album</h2>
  <div id="photoContainer">
    <img src="loko.jpg" alt="Foto1">
    <img src="000.jpg" alt="Foto2">
    <img src="06.jpg" alt="Foto3">
    <img src="poster1.jpg" alt="Foto4">
    <img src="hoodie1.jpg" alt="Foto5">
    <img src="hoodie2.jpg" alt="Foto6">
  </div>
</div>

<!-- POPUPS -->
<div id="addCartPopup">
  <p>Produkt bol √∫spe≈°ne pridan√Ω do ko≈°√≠ka!</p>
  <button id="continueShopping">Pokraƒçova≈• v n√°kupe</button>
  <button id="goToCart">Do ko≈°√≠ka</button>
</div>
<div id="orderPopup">
  <p>Objedn√°vka bola √∫spe≈°ne odoslan√°!</p>
  <button id="orderOkBtn">OK</button>
</div>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox">
  <span class="close-lightbox" id="closeLightbox">&times;</span>
  <img id="lightboxImg" src="">
</div>

<!-- CART MODAL -->
<div class="cart-modal" id="cartModal">
  <div class="cart">
    <span class="close-btn" id="closeCart">&times;</span>
    <h3>Ko≈°√≠k</h3>
    <div id="cartItems"></div>
    <p id="total"></p>
    <input type="text" id="name" placeholder="Meno a priezvisko">
    <input type="email" id="email" placeholder="Email">
    <input type="tel" id="phone" placeholder="Telef√≥n">
    <input type="text" id="street" placeholder="Ulica a popisn√© ƒç√≠slo">
    <input type="text" id="zip" placeholder="PSƒå">
    <textarea id="note" placeholder="N√°zov v√Ωdajn√©ho miesta alebo Z-Boxu"></textarea>
    <label for="country">Krajina doruƒçenia:</label>
    <select id="country">
      <option value="Slovensko" selected>Slovensko</option>
      <option value="ƒåesk√° republika">ƒåesk√° republika</option>
    </select>
    <label for="delivery">Packeta Sp√¥sob doruƒçenia:</label>
    <select id="delivery">
      <option value="V√Ωdajn√© miesto">V√Ωdajn√© miesto</option>
      <option value="Z-Box">Z-Box</option>
    </select>
    <label><input type="checkbox" id="cod"> Platba dobierkou (+1,40 ‚Ç¨)</label>
    <button id="payBtn">Objedna≈• s povinnos≈•ou platby</button>
  </div>
</div>

<script>
// SECTION SWITCH
const shopBtn=document.getElementById('shopBtn');
const photoBtn=document.getElementById('photoBtn');
const shopSection=document.getElementById('shopSection');
const photoSection=document.getElementById('photoSection');
shopBtn.addEventListener('click',()=>{shopSection.classList.add('active');photoSection.classList.remove('active');shopBtn.classList.add('active');photoBtn.classList.remove('active');});
photoBtn.addEventListener('click',()=>{photoSection.classList.add('active');shopSection.classList.remove('active');photoBtn.classList.add('active');shopBtn.classList.remove('active');});

// LIGHTBOX
const photoImages=document.querySelectorAll('#photoContainer img');
const lightbox=document.getElementById('lightbox');
const lightboxImg=document.getElementById('lightboxImg');
const closeLightbox=document.getElementById('closeLightbox');
photoImages.forEach(img=>{img.addEventListener('click',()=>{lightbox.style.display='flex';lightboxImg.src=img.src;});});
closeLightbox.addEventListener('click',()=>{lightbox.style.display='none';});
lightbox.addEventListener('click',e=>{if(e.target===lightbox)lightbox.style.display='none';});

// CART
let cartData=[];
function renderCart(){
  const shipping=document.getElementById('country').value==="ƒåesk√° republika"?4.50:3.50;
  const cod=document.getElementById('cod').checked?1.40:0;
  const cartItems=document.getElementById('cartItems');
  const total=document.getElementById('total');
  const cartPriceElems=document.querySelectorAll('.cart-price');
  if(cartData.length===0){cartItems.innerHTML="<em>Ko≈°√≠k je pr√°zdny</em>";total.innerHTML="";cartPriceElems.forEach(e=>e.textContent="0 ‚Ç¨");return;}
  cartItems.innerHTML=cartData.map((i,index)=>`<p>${i.product} (${i.size}) x${i.qty} - ${(i.price*i.qty).toFixed(2)} ‚Ç¨ <span class="remove-item" data-index="${index}">‚ùå</span></p>`).join('');
  const subtotal=cartData.reduce((sum,i)=>sum+i.price*i.qty,0);
  const totalPrice=(subtotal+shipping+cod).toFixed(2);
  total.innerHTML=`Medzis√∫ƒçet: ${subtotal.toFixed(2)} ‚Ç¨<br>Po≈°tovn√©: ${shipping.toFixed(2)} ‚Ç¨<br>Dobierka: ${cod.toFixed(2)} ‚Ç¨<br><strong>Celkom: ${totalPrice} ‚Ç¨</strong>`;
  cartPriceElems.forEach(e=>e.textContent=subtotal.toFixed(2)+" ‚Ç¨");
  document.querySelectorAll('.remove-item').forEach(btn=>{btn.addEventListener('click',()=>{cartData.splice(btn.getAttribute('data-index'),1);renderCart();});});
}

// ADD TO CART
document.querySelectorAll('.addToCartBtn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const product=btn.getAttribute('data-product');
    const price=parseFloat(btn.getAttribute('data-price'));
    const size=document.getElementById(btn.getAttribute('data-size')).value;
    const qty=parseInt(document.getElementById(btn.getAttribute('data-qty')).value)||1;
    cartData.push({product,size,price,qty});
    renderCart();
    document.getElementById('addCartPopup').classList.add('show');
  });
});
document.getElementById('continueShopping').addEventListener('click',()=>{document.getElementById('addCartPopup').classList.remove('show');});
document.getElementById('goToCart').addEventListener('click',()=>{renderCart();document.getElementById('cartModal').style.display='flex';document.getElementById('addCartPopup').classList.remove('show');});
document.querySelectorAll('.cart-icon').forEach(c=>c.addEventListener('click',()=>{renderCart();document.getElementById('cartModal').style.display='flex';}));
document.getElementById('closeCart').addEventListener('click',()=>{document.getElementById('cartModal').style.display='none';});
document.getElementById('cartModal').addEventListener('click',e=>{if(e.target===document.getElementById('cartModal'))document.getElementById('cartModal').style.display='none';});

// CAROUSEL
const productImgs=[["poster001.jpg","0001.jpg","2006.jpg"],["hoodie1.jpg","hoodie2.jpg","hoodie3.jpg"]];
let currentImgs=[0,0];
document.querySelectorAll('.arrow.left').forEach(a=>{a.addEventListener('click',()=>{const p=parseInt(a.getAttribute('data-product'))-1;currentImgs[p]=(currentImgs[p]-1+productImgs[p].length)%productImgs[p].length;document.getElementById('productImg'+(p+1)).src=productImgs[p][currentImgs[p]];});});
document.querySelectorAll('.arrow.right').forEach(a=>{a.addEventListener('click',()=>{const p=parseInt(a.getAttribute('data-product'))-1;currentImgs[p]=(currentImgs[p]+1)%productImgs[p].length;document.getElementById('productImg'+(p+1)).src=productImgs[p][currentImgs[p]];});});
document.querySelectorAll('.carousel img').forEach(img=>{img.addEventListener('click',()=>{lightbox.style.display='flex';lightboxImg.src=img.src;});});

// ORDER FORMSPREE
document.getElementById('payBtn').addEventListener('click',async()=>{
  if(cartData.length===0){alert("Ko≈°√≠k je pr√°zdny!");return;}
  if(!document.getElementById('cod').checked){alert("Objedn√°vka mus√≠ by≈• na dobierku!");return;}
  const name=document.getElementById('name').value.trim();
  const email=document.getElementById('email').value.trim();
  const phone=document.getElementById('phone').value.trim();
  const street=document.getElementById('street').value.trim();
  const zip=document.getElementById('zip').value.trim();
  const country=document.getElementById('country').value;
  const note=document.getElementById('note').value.trim();
  const delivery=document.getElementById('delivery').value;
  if(!name||!email||!phone||!street||!zip){alert("Vypl≈à v≈°etky povinn√© polia!");return;}
  const formData=new FormData();
  formData.append("product",JSON.stringify(cartData));
  formData.append("name",name);
  formData.append("email",email);
  formData.append("phone",phone);
  formData.append("street",street);
  formData.append("zip",zip);
  formData.append("country",country);
  formData.append("note",note);
  formData.append("delivery",delivery);
  formData.append("cod",document.getElementById('cod').checked?"√Åno":"Nie");
  try{
    const response=await fetch("https://formspree.io/f/xvgbylyd",{method:"POST",body:formData,headers:{'Accept':'application/json'}});
    if(response.ok){
      document.getElementById('orderPopup').classList.add('show');
      setTimeout(()=>{document.getElementById('orderPopup').classList.remove('show');},3000);
      cartData=[];
      renderCart();
      ['name','email','phone','street','zip','note'].forEach(id=>document.getElementById(id).value="");
    } else {alert("Nieƒço sa pokazilo. Sk√∫ste znova.");}
  }catch(err){alert("Chyba pri odosielan√≠ objedn√°vky.");}
});
document.getElementById('orderOkBtn').addEventListener('click',()=>{document.getElementById('orderPopup').classList.remove('show');});

// CONTACT FORMSPREE
const contactForm=document.getElementById('contactForm');
const contactStatus=document.getElementById('contactStatus');
contactForm.addEventListener('submit',async(e)=>{
  e.preventDefault();
  const data=new FormData(contactForm);
  try{
    const response=await fetch(contactForm.action,{method:'POST',body:data,headers:{'Accept':'application/json'}});
    if(response.ok){
      contactStatus.textContent="Spr√°va bola √∫spe≈°ne odoslan√°!";
      contactStatus.style.color="#0f0";
      contactForm.reset();
      setTimeout(()=>{contactStatus.textContent="";},3000);
    } else{
      contactStatus.textContent="Chyba pri odosielan√≠ spr√°vy. Sk√∫ste znova.";
      contactStatus.style.color="#f00";
    }
  }catch(err){
    contactStatus.textContent="Chyba pri odosielan√≠ spr√°vy.";
    contactStatus.style.color="#f00";
  }
});
</script>
</body>
</html>


