<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>asitynormalny</title>
<!-- Favicon PNG -->
<link rel="icon" type="image/png" href="faviconsi.png?v=2">
<link rel="apple-touch-icon" href="faviconsi.png?v=2">
<link rel="apple-touch-icon" href="faviconsi.png">

<!-- Open Graph meta tag pre Instagram, WhatsApp, FB atƒè. -->
<meta property="og:image" content="faviconsi.png">
<meta property="og:image:type" content="image/png">
<meta property="og:image:width" content="512">
<meta property="og:image:height" content="512">
<meta property="og:title" content="asitynormalny">
<meta property="og:description" content="Website for the abnormal">
<meta property="og:url" content="https://asitynormalny.com">
<meta name="robots" content="noimageindex">

<style>

header img#logo {
  width: 80%;
  max-width: 600px;
  height: auto;
  display: block;
  margin: 0 auto;
  -webkit-user-drag: none;
  -webkit-touch-callout: none;
  user-select: none;
  pointer-events: none;
}


@media (max-width: 900px) {
  header img#logo {
    width: 108%;
    max-width: none;
    height: 108%;
  }
}

body {
  margin: 0;
  padding: 0;
  font-family: sans-serif;
  background: url("background.webp") no-repeat center center fixed;
  background-size: cover;
  color: #fff;
  text-align: center;
}


header { padding:15px 20px; background:#111; display:flex; justify-content:center; align-items:center; gap:20px; position:relative;}
header img { max-width:600px; height:auto; cursor:pointer; }
.navbar { display:flex; justify-content:center; gap:20px; margin:15px 0; }
.navbar button { padding:10px 20px; font-size:16px; cursor:pointer; background:#222; color:#fff; border:none; border-radius:5px; }
.navbar button.active { background:#6772e5; }

.section {
  display: none;
  opacity: 0;
  transform: translateX(50px);
  transition: opacity 0.5s ease, transform 0.5s ease;
}
.section.active {
  display: block;
  opacity: 1;
  transform: translateX(0);
}

.product{margin:25px auto 30px auto; background:#111; padding:20px; max-width:400px; box-shadow:0 2px 5px rgba(255,255,255,0.2); border-radius:10px;}
.carousel{position:relative; margin-bottom:15px; display:flex; justify-content:center; align-items:center;}
.carousel img{max-width:100%; display:block; border-radius:5px; cursor:pointer;}
.arrow{position:absolute; top:50%; transform:translateY(-50%); font-size:30px; color:#fff; cursor:pointer; background:rgba(0,0,0,0.4); padding:5px 10px; border-radius:5px; user-select:none;}
.arrow.left{left:5px;} 
.arrow.right{right:5px;}

.size-container, .qty-container {
  margin: 15px 0;
  text-align: center;
}

.size-container select,
.qty-container select {
  width: 50%;             /* PC */
  padding: 10px;
  font-size: 16px;
  border-radius: 5px;
  border: none;
  text-align: center;
}

/* Responz√≠vne √∫pravy */
@media (max-width:600px){
  .size-container select,
  .qty-container select {
    width: 70%;           /* Mobil */
    font-size: 14px;
  }
}

.product button{padding:10px 20px; font-size:16px; cursor:pointer; background:#6772e5; color:#fff; border:none; border-radius:5px; margin-top:10px;}

.cart-container { text-align:center; display:flex; flex-direction:column; align-items:center; }
.cart-price{ font-size:14px; color:#0f0; margin-top:5px; }
.cart-icon{ font-size:24px; cursor:pointer; margin-top:5px; }

/* Modal (pou≈æit√© pre GDPR) */
.cart-modal{
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  display: flex; justify-content: center; align-items: center;
  opacity: 0; pointer-events: none; background: rgba(0,0,0,0.7);
  transition: opacity 0.3s ease; z-index: 999;
}
.cart-modal.show { opacity: 1; pointer-events: auto; }
.cart{
  background:#111; padding:15px 20px; max-width:350px; width:80%;
  border-radius:10px; box-shadow:0 2px 10px rgba(255,255,255,0.3);
  text-align:center; max-height:85vh; overflow-y:auto;
  transform: scale(0.9); opacity: 0; transition: transform 0.3s ease, opacity 0.3s ease;
}
.cart-modal.show .cart { transform: scale(1); opacity: 1; }
.close-btn{position:absolute; top:10px; right:15px; font-size:35px; color:#fff; cursor:pointer;}

.lightbox {
  display: none; position: fixed; inset: 0;
  width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9);
  justify-content: center; align-items: center; z-index: 1000;
  flex-direction: column; overscroll-behavior: contain; -webkit-overflow-scrolling: touch;
}
.lightbox-content { position: relative; display: inline-block; max-width: 90vw; max-height: 90vh; }
.lightbox-content img {
  width: auto; height: auto; max-width: 100%; max-height: 100%;
  border-radius: 5px; display: block; position: relative; z-index: 1005; object-fit: contain;
}
.lightbox-content .close-lightbox {
  position: absolute; top: -5px; right: 3px; font-size: 38px; line-height: 1;
  color:  #ff0000; background: none; border: none; cursor: pointer;
  transition: transform 0.15s ease, color 0.2s ease; z-index: 1020;
  -webkit-tap-highlight-color: transparent;
}
.lightbox-content .close-lightbox:hover { color: #ccc; transform: scale(1.1); }

/* Add-to-cart potvrdenie (zachovan√© a pou≈æ√≠van√©) */
#addCartPopup { 
  display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
  background: #222; color: #fff; padding: 25px 30px; border-radius: 10px;
  box-shadow: 0 2px 15px rgba(0,0,0,0.5); z-index: 1001; text-align: center; max-width: 95%;
}
#addCartPopup.show { display: block; }
#addCartPopup button { margin:5px; padding:12px 18px; font-size: 16px; border:none; border-radius:5px; cursor:pointer; }
#addCartPopup #continueShopping{background:#6772e5; color:#fff;}
#addCartPopup #goToCart{background:#0f0; color:#000;}

/* Kontakt */
#contactFormContainer{ margin:40px auto; max-width:400px; text-align:center; background:#111; padding:20px; border-radius:10px; box-shadow:0 2px 5px rgba(255,255,255,0.2); }
#contactForm input, #contactForm textarea{ width:90%; padding:10px; margin:5px 0; border-radius:5px; border:none;}
#contactForm button{ padding:10px 20px; margin-top:10px; border:none; border-radius:5px; background:#6772e5; color:#fff; cursor:pointer; }
#payBtn { margin-top: -18px; } /* nevad√≠, len p√¥vodn√Ω ≈°t√Ωl */

#photoContainer {
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; padding: 8px;
}
@media (max-width: 768px) {
  #photoContainer { grid-template-columns: repeat(2, 1fr); gap: 5px; padding: 8px; }
}
#photoContainer img {
  width: 100%; height: auto; border-radius: 0px; cursor: pointer; object-fit: cover;
}

/* Fade-in anim√°cia fotiek ‚Äì ZACHOVAN√Å */
#photoContainer img { opacity: 0; transform: translateY(15px) scale(0.97); filter: blur(4px); transition: all 0.6s ease; }
#photoContainer img.show { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }

#codText { font-weight:bold; font-size:16px; margin:10px 0; color:#fff; }

/* Disable saving images */
#photoContainer img, .carousel img, #lightbox img {
  user-select: none; -webkit-user-drag: none; -moz-user-select: none; -ms-user-select: none; -webkit-touch-callout: none; pointer-events: auto;
}

/* Logo anim√°cia */
@keyframes logoTiltSmooth {
  0%   { transform: perspective(600px) rotateY(0deg) scale(1); }
  25%  { transform: perspective(600px) rotateY(45deg) scale(1.08); }
  50%  { transform: perspective(600px) rotateY(0deg) scale(1); }
  75%  { transform: perspective(600px) rotateY(-45deg) scale(1.08); }
  100% { transform: perspective(600px) rotateY(0deg) scale(1); }
}
header img#logo {
  animation: logoTiltSmooth 9s cubic-bezier(0.645, 0.045, 0.355, 1) infinite;
  transform-origin: center center; display: block;
}
@media (max-width: 768px) {
  header img#logo { width: 108%; max-width: 500px; }
}

.img-protect-wrapper { position: relative; display: inline-block; }
.img-protect-wrapper img { display: block; pointer-events: none; }
.img-protect-wrapper .overlay { position: absolute; top:0; left:0; width:100%; height:100%; z-index:10; }

.product-description { font-weight: 400; font-size: 16px; line-height: 1.3; margin: 0; padding: 0; }
.product-description + .product-description { margin-top: 2px; }

.limited-stamp {
  position: absolute; top: 20px; right: 0px;
  background: rgba(255, 0, 0, 0.85); color: #fff; font-weight: bold; font-size: 14px;
  padding: 5px 10px; border-radius: 5px; z-index: 10; transform: rotate(8deg);
  transform-origin: top right; box-shadow: 0 2px 5px rgba(0,0,0,0.5);
}

/* Message popup */
#messagePopup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #222; color: #fff; padding: 25px 30px; border-radius: 10px; box-shadow: 0 2px 15px rgba(0,0,0,0.5); z-index: 1002; text-align: center; max-width: 90%; }
#messagePopup.show { display: block; }
#messagePopup button { margin-top: 10px; padding: 10px 20px; font-size: 16px; border: none; border-radius: 5px; cursor: pointer; background: #6772e5; color: #fff; }

input, select, textarea { font-size: 16px; }


.tax-note {
  color: #aaa;
  font-size: 13px;
  margin-top: -16px;
  margin-bottom: 10px;
  font-style: monospace;
}
.product {
  margin:25px auto 30px auto;
  background:#111;
  padding:20px;
  max-width:400px;
  box-shadow:0 2px 5px rgba(255,255,255,0.2);
  border-radius:10px;
  position: relative; /* DOPLNI≈§ kv√¥li limited-stamp */
}
@media (max-width:600px){
  header img{ width: 80%; max-width:500px; height:auto; }
  .arrow{font-size:30px; padding:19px 8px;}
  .size-container select, .qty-container select{width:70%; font-size:14px;}
  .cart input, .cart select, .cart textarea{width:95%; font-size:13px;}
  .cart{max-width:90%;}
  #addCartPopup{padding:12px 15px; font-size:14px;}
}
.lightbox img {
  opacity: 0;
  transform: scale(0.9);
  transition: opacity 0.4s ease, transform 0.4s ease;
}
.lightbox.show img {
  opacity: 1;
  transform: scale(1);
}

.size-container label,
.qty-container label {
  display: block;      /* label nad selectom */
  margin-bottom: 6px;  /* medzera */
  font-size: 15px;
  font-weight: 400;    /* norm√°lna hr√∫bka */
  color: #fff;
  text-align: center;
}

#topBar {
  background: #000;
  color: #fff;
  padding: 10px 20px;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  position: relative;   /* norm√°lne spr√°vanie, zmizne pri scrolle */
  z-index: 1001;
}


#globalCart {
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  font-size: 18px;
}

#globalCartPrice {
  color: #0f0;
  font-weight: 600;
}
header img#logo {
  position: relative;   /* aby z-index fungoval */
  z-index: 2000;        /* v√§ƒç≈°ie ako topBar (1001) */
}

@media (max-width: 600px) {
  #topBar {
    padding: 6px 12px;   /* mierne v√§ƒç≈°ie ne≈æ predt√Ωm */
  }

  #globalCart {
    font-size: 14px;     /* jemne v√§ƒç≈°√≠ text + ikona */
    gap: 6px;
  }

  #globalCartPrice {
    font-size: 13px;
  }

  #globalCartIcon {
    font-size: 18px;     /* ikona ko≈°√≠ka o nieƒço v√§ƒç≈°ia */
  }
}



</style>
</head>
<body>

<script>
// ‚úÖ Anim√°cia fotiek (ZACHOVAN√Å)
function animatePhotos() {
  const imgs = document.querySelectorAll('#photoContainer img');
  imgs.forEach(img => img.classList.remove('show'));
  imgs.forEach((img, i) => { setTimeout(() => img.classList.add('show'), i * 100); });
}
window.addEventListener('load', animatePhotos);
const photoSectionBtn = document.querySelector('nav li[data-section="photos"]');
if (photoSectionBtn) { photoSectionBtn.addEventListener('click', animatePhotos); }
</script>

<!-- GDPR MODAL (ponechan√Ω) -->
<div id="gdprModal" class="cart-modal">
  <div class="cart">
    <span class="close-btn" id="closeGdpr">&times;</span>
    <h3>GDPR ‚Äì Data Protection</h3>
    We process your personal data only to handle your orders or contact you. 
    We do not share your data with third parties outside of these purposes. You have the right to request access, correction, or deletion of your data at any time.
    <p>For more information, contact us at <strong>asitynormalny@gmail.com</strong></p>
  </div>
</div>

<!-- Message popup (ponechan√Ω) -->
<div id="messagePopup">
  <p id="messageText"></p>
  <button id="messageOkBtn">OK</button>
</div>

<div id="topBar">
  <div id="globalCart">
    <span>Cart</span>
    <span id="globalCartIcon">üõí</span>
  </div>
</div>

<header>
  <img id="logo" src="Logo.webp" alt="Logo">
</header>

<div class="navbar">
  <button id="shopBtn">Shop</button>
  <button id="photoBtn" class="active">Photos</button>
</div>

<!-- SHOP SECTION -->
<div id="shopSection" class="section">
  <!-- Produkt 1 -->
  <div class="product">
    <h2>Smoke Kit</h2>
    <div class="limited-stamp">Exclusive Design</div>
    <div class="carousel">
      <span class="arrow left" data-product="1">&#10094;</span>
      <img src="P1.webp" id="productImg1" alt="Smoke Kit">
      <span class="arrow right" data-product="1">&#10095;</span>
    </div>
    <div class="qty-container">
      <label for="quantity1">Quantity:</label>
      <select id="quantity1">
        <option value="1" selected>1</option>
        <option value="2">2</option>
        <option value="3">3</option>
      </select>
    </div>
    <p>Price: ‚Ç¨10.00</p>
    <p class="tax-note">Tax included.</p>
    <p class="product-description">1√ó Clipper lighter</p>
    <p class="product-description">1√ó 1¬º papers + tips</p>
    <p class="product-description">1√ó King size slim papers + tips</p>
    <p class="product-description"> Hemp papers, slow-burning, Arabic gum</p>
    <p class="product-description">Made in Slovenia</p>
    <div class="add-cart-row" style="display:flex; align-items:center; justify-content:center; gap:15px;">
      <button class="addToCartBtn" data-product="Smoke Kit" data-price="10.00" data-size="" data-qty="quantity1">Add to Cart</button>
      </div>
    </div>

  <!-- Produkt 2 -->
  <div class="product">
    <h2>Poster A2</h2>
    <div class="carousel">
      <span class="arrow left" data-product="2">&#10094;</span>
      <img src="PR1.webp" id="productImg2" alt="Poster">
      <span class="arrow right" data-product="2">&#10095;</span>
    </div>
    <div class="size-container">
      <label for="size2">Size:</label>
      <select id="size2">
        <option value="A2" selected>A2</option>
      </select>
    </div>
    <div class="qty-container">
      <label for="quantity2">Quantity:</label>
      <select id="quantity2">
        <option value="1" selected>1</option>
        <option value="2">2</option>
        <option value="3">3</option>
      </select>
    </div>
    <p>Price: ‚Ç¨8.00</p>
    <p class="tax-note">Tax included.</p>
    <p class="product-description">225 g/m¬≤ matte paper</p>
    <p class="product-description">High-quality digital print</p>
    <p class="product-description">Size: A2 (420 √ó 594 mm)</p>
    <p class="product-description">Printed in Slovakia</p>
    <div class="add-cart-row" style="display:flex; align-items:center; justify-content:center; gap:15px;">
      <button class="addToCartBtn" data-product="Poster" data-price="8.00" data-size="size2" data-qty="quantity2">Add to Cart</button>
      </div>
    </div>

  <!-- FORMUL√ÅR KONTAKTUJTE N√ÅS -->
  <div id="contactFormContainer">
    <h3>Contact us</h3>
    <form id="contactForm" action="https://formspree.io/f/xeolddoa" method="POST">
      <input type="text" name="name" placeholder="Name" required>
      <input type="email" name="email" placeholder="Email address" required>
      <textarea name="message" placeholder="Message" required></textarea>
      <button type="submit">Send</button>
    </form>
    <p id="contactStatus" style="margin-top:10px;"></p>
  </div>
</div>

<!-- PHOTOS SECTION -->
<div id="photoSection" class="section active">
  <div id="photoContainer">
    <img src="8.jpg" alt="Foto1">
    <img src="8.jpg" alt="Foto1">
    <img src="ritka.jpg" alt="Foto1">
    <img src="8.jpg" alt="Foto1">
    <img src="1.jpg" alt="Foto1">
    <img src="1.jpg" alt="Foto1">
    <img src="2.jpg" alt="Foto1">
    <img src="1.jpg" alt="Foto1">
    <img src="1.jpg" alt="Foto1">
    <img src="1.jpg" alt="Foto1">
    <img src="2.jpg" alt="Foto1">
    <img src="1.jpg" alt="Foto1">
  </div>
</div>

<!-- POPUP: Add to Cart -->
<div id="addCartPopup">
  <p>Product added to cart successfully !</p>
  <button id="continueShopping">Continue shopping</button>
  <button id="goToCart">View cart</button>
</div>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox">
  <div class="lightbox-content">
    <span class="close-lightbox" id="closeLightbox">&times;</span>
    <img id="lightboxImg" src="">
  </div>
</div>

<script>
/* ====== SELECTORS ====== */
const shopBtn = document.getElementById('shopBtn');
const photoBtn = document.getElementById('photoBtn');
const shopSection = document.getElementById('shopSection');
const photoSection = document.getElementById('photoSection');

const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightboxImg');
const closeLightbox = document.getElementById('closeLightbox');

// Ochrana obr√°zkov
const protectedImages = document.querySelectorAll('#photoContainer img, .carousel img, #lightbox img');
protectedImages.forEach(img => {
  img.addEventListener('contextmenu', e => e.preventDefault());
  img.addEventListener('dragstart', e => e.preventDefault());
  img.addEventListener('touchstart', e => { img.dataset.touchStart = Date.now(); }, { passive: true });
  img.addEventListener('touchend', e => {
    const duration = Date.now() - img.dataset.touchStart;
    if (duration > 500) { e.preventDefault(); }
  }, { passive: false });
  img.addEventListener('touchcancel', e => e.preventDefault());
});

// Kliknutie na obr√°zok (Photos + Shop) -> lightbox
const productImages = document.querySelectorAll('.carousel img');
const photoImages = document.querySelectorAll('#photoContainer img');
[...productImages, ...photoImages].forEach(img => {
  img.addEventListener('click', () => openLightbox(img.src));
});

/* ====== PREPINANIE SEKCI√ç ====== */
function showSection(sectionToShow, sectionToHide, btnToActivate, btnToDeactivate) {
  sectionToHide.style.opacity = '0';
  setTimeout(() => {
    sectionToHide.classList.remove('active');
    sectionToHide.style.display = 'none';
    sectionToShow.style.display = 'block';
    sectionToShow.classList.add('active');
    sectionToShow.style.opacity = '0';
    requestAnimationFrame(() => {
      sectionToShow.style.opacity = '1';
    });
  }, 200);
  btnToActivate.classList.add('active');
  btnToDeactivate.classList.remove('active');
}
shopBtn.addEventListener('click', () => {
  showSection(shopSection, photoSection, shopBtn, photoBtn);
});
photoBtn.addEventListener('click', () => {
  showSection(photoSection, shopSection, photoBtn, shopBtn);
  setTimeout(animatePhotos, 200); // znovu spust√≠ fade anim√°ciu po n√°vrate
});

/* ====== LIGHTBOX ====== */
function openLightbox(src) {
  lightboxImg.src = src;
  lightbox.classList.remove('show');
  lightbox.style.display = 'flex';
  lightboxImg.onload = () => {
    requestAnimationFrame(() => {
      lightbox.classList.add('show');
      disableBodyScroll();
    });
  };
}
function closeLightboxFn() {
  lightbox.classList.remove('show');
  setTimeout(() => {
    lightbox.style.display = 'none';
    enableBodyScroll();
  }, 400);
}
closeLightbox.addEventListener('click', (e) => { e.stopPropagation(); closeLightboxFn(); });
lightbox.addEventListener('click', e => { if (e.target === lightbox) closeLightboxFn(); });

/* ====== KO≈†√çK CEZ localStorage (pre cart.html) ====== */
function loadCart(){ 
  try { 
    return JSON.parse(localStorage.getItem('cartData')||'[]'); 
  } catch(e){ 
    return []; 
  } 
}

function saveCart(d){ 
  localStorage.setItem('cartData', JSON.stringify(d)); 
}

function subtotal(cart){ 
  return cart.reduce((s,i)=> s + (i.price*(i.qty||1)), 0); 
}

function updateCartBadges(){
  const sum = subtotal(loadCart());
  const globalPrice = document.getElementById('globalCartPrice');
  if (globalPrice) {
    globalPrice.textContent = "‚Ç¨" + sum.toFixed(2);
  }
}

// spust√≠me hneƒè na zaƒçiatku, aby sa zobrazila spr√°vna suma
updateCartBadges();


// Add to Cart (zachov√°va size, qty)
document.querySelectorAll('.addToCartBtn').forEach(btn => {
  btn.addEventListener('click', () => {
    const product = btn.getAttribute('data-product');
    const price = parseFloat(btn.getAttribute('data-price'));
    const sizeId = btn.getAttribute('data-size');
    const size = sizeId ? (document.getElementById(sizeId)?.value || "") : "";
    const qty = parseInt(document.getElementById(btn.getAttribute('data-qty')).value) || 1;

    const cart = loadCart();
    cart.push({ product, size, price, qty });
    saveCart(cart);
    updateCartBadges();

    const popup = document.getElementById('addCartPopup');
    popup.classList.add('show');
    disableBodyScroll();
  });
});

document.getElementById('continueShopping').addEventListener('click', () => {
  document.getElementById('addCartPopup').classList.remove('show');
  enableBodyScroll();
});
document.getElementById('goToCart').addEventListener('click', () => {
  document.getElementById('addCartPopup').classList.remove('show');
  enableBodyScroll();
  window.location.href = 'cart.html';
});

// Ikona ko≈°√≠ka -> cart.html
// Klik na glob√°lny ko≈°√≠k hore
const globalCart = document.getElementById('globalCart');
if (globalCart) {
  globalCart.addEventListener('click', () => {
    window.location.href = 'cart.html';
  });
}

// Zmena krajiny u≈æ neovplyv≈àuje niƒç na indexe (poƒç√≠tanie prebieha v cart.html)

/* ====== CAROUSEL (p√¥vodn√° logika) ====== */
const productImgs = [
  ["P1.webp", "P2.webp", "P3.webp", "P4.webp", "P5.webp"], 
  ["PR1.webp", "PR2.webp"]           
];
let currentImgs = [0,0];
document.querySelectorAll('.arrow.left').forEach(a=>{
  a.addEventListener('click', ()=>{
    const p = parseInt(a.getAttribute('data-product')) - 1;
    currentImgs[p] = (currentImgs[p] - 1 + productImgs[p].length) % productImgs[p].length;
    document.getElementById('productImg' + (p+1)).src = productImgs[p][currentImgs[p]];
  });
});
document.querySelectorAll('.arrow.right').forEach(a=>{
  a.addEventListener('click', ()=>{
    const p = parseInt(a.getAttribute('data-product')) - 1;
    currentImgs[p] = (currentImgs[p] + 1) % productImgs[p].length;
    document.getElementById('productImg' + (p+1)).src = productImgs[p][currentImgs[p]];
  });
});

/* ====== CONTACT (p√¥vodn√°) ====== */
const contactForm = document.getElementById('contactForm');
const contactStatus = document.getElementById('contactStatus');
if (contactForm) {
  contactForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const data = new FormData(contactForm);
    try {
      const response = await fetch(contactForm.action, { method: 'POST', body: data, headers: { 'Accept': 'application/json' } });
      if (response.ok) {
        contactStatus.textContent = "Your message was sent !";
        contactStatus.style.color = "#0f0";
        contactForm.reset();
        setTimeout(() => { contactStatus.textContent = ""; }, 5000);
      } else {
        showMessage("Error sending message ! Please try again.");
      }
    } catch (err) {
      showMessage("Error sending message !");
    }
  });
}

/* ====== PREVENT RIGHT CLICK / DRAG ====== */
[...photoImages, ...productImages].forEach(img => {
  img.addEventListener('contextmenu', e => e.preventDefault());
  img.addEventListener('dragstart', e => e.preventDefault());
});

/* ====== SCROLL TO TOP ON LOAD ====== */
window.addEventListener('load', () => {
  setTimeout(() => {
    window.scrollTo(0, 0);
  }, 50);
});

/* ====== BODY SCROLL LOCK (upraven√© pre popup/lightbox/GDPR) ====== */
let scrollDisabled = false;
let scrollPos = 0;
function disableBodyScroll() {
  if (!scrollDisabled) {
    scrollPos = window.pageYOffset || document.documentElement.scrollTop;
    document.body.style.overflow = 'hidden';
    document.body.style.touchAction = 'none';
    scrollDisabled = true;
  }
}
function enableBodyScroll() {
  const gdprModal = document.getElementById('gdprModal');
  const messagePopup = document.getElementById('messagePopup');
  if (lightbox.classList.contains('show') || gdprModal.classList.contains('show') || messagePopup.classList.contains('show')) {
    return;
  }
  if (scrollDisabled) {
    document.body.style.overflow = '';
    document.body.style.touchAction = '';
    window.scrollTo(0, scrollPos);
    scrollDisabled = false;
  }
}

/* ====== FOOTERS ====== */
function addShopFooter() {
  const section = document.getElementById('shopSection');
  const footer = document.createElement('p');
  const year = new Date().getFullYear();

  const gdprBtn = document.createElement('button');
  gdprBtn.textContent = 'Privacy Policy / GDPR';
  gdprBtn.style.marginBottom = '5px';
  gdprBtn.style.display = 'inline';
  gdprBtn.style.padding = '0';
  gdprBtn.style.border = 'none';
  gdprBtn.style.background = 'none';
  gdprBtn.style.color = '#FF0000';
  gdprBtn.style.fontWeight = '700';
  gdprBtn.style.textDecoration = 'underline';
  gdprBtn.style.fontSize = '14px';
  gdprBtn.style.cursor = 'pointer';

  gdprBtn.addEventListener('click', () => {
    document.getElementById('gdprModal').classList.add('show');
    disableBodyScroll();
  });

  footer.style.marginTop = '30px';
  footer.style.fontSize = '14px';
  footer.style.fontWeight = '700';
  footer.style.color = '#FF0000';
  footer.style.textAlign = 'center';

  footer.appendChild(gdprBtn);
  footer.appendChild(document.createElement('br'));
  footer.appendChild(document.createTextNode(`¬© ${year} All rights reserved`));

  section.appendChild(footer);
}
function addPhotoFooter() {
  const section = document.getElementById('photoSection');
  const footer = document.createElement('p');
  const year = new Date().getFullYear();

  footer.style.marginTop = '30px';
  footer.style.fontSize = '14px';
  footer.style.fontWeight = '700';
  footer.style.color = '#aaa';
  footer.style.textAlign = 'center';

  footer.textContent = `¬© ${year} All rights reserved`;

  section.appendChild(footer);
}
addShopFooter();
addPhotoFooter();

/* ====== GDPR CLOSE ====== */
const closeGdpr = document.getElementById('closeGdpr');
const gdprModal = document.getElementById('gdprModal');
closeGdpr.addEventListener('click', () => {
  gdprModal.classList.remove('show');
  enableBodyScroll();
});
gdprModal.addEventListener('click', e => {
  if (e.target === gdprModal) {
    gdprModal.classList.remove('show');
    enableBodyScroll();
  }
});

/* ====== message popup helper ====== */
const messagePopup = document.getElementById('messagePopup');
const messageText = document.getElementById('messageText');
const messageOkBtn = document.getElementById('messageOkBtn');
function showMessage(msg) {
  messageText.textContent = msg;
  messagePopup.classList.add('show');
  disableBodyScroll();
}
messageOkBtn.addEventListener('click', () => {
  messagePopup.classList.remove('show');
  enableBodyScroll();
});

/* Logo vstupn√° anim√°cia ‚Äì zachovan√© */
window.addEventListener('load', () => {
  const logo = document.getElementById('logo');
  logo.style.transition = "transform 0.6s ease-out";
  logo.style.transform = "perspective(600px) rotateY(0deg) scale(1.2)";
  setTimeout(() => {
    logo.style.transform = "perspective(600px) rotateY(0deg) scale(1)";
  }, 50);
});

document.getElementById('globalCart').addEventListener('click', () => {
  window.location.href = 'cart.html';
});

</script>
</body>
</html>
