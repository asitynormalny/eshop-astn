<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>asitynormalny</title>
<!-- Favicon PNG -->
<link rel="icon" type="image/png" href="faviconsi.png?v=2">
<link rel="apple-touch-icon" href="faviconsi.png?v=2">
    <!-- Apple touch icon (pre Add to Home Screen) -->
<link rel="apple-touch-icon" href="faviconsi.png">

<!-- Open Graph meta tag pre Instagram, WhatsApp, FB atƒè. -->
<meta property="og:image" content="faviconsi.png">
<meta property="og:image:type" content="image/png">
<meta property="og:image:width" content="512">
<meta property="og:image:height" content="512">
<meta property="og:title" content="asitynormalny">
<meta property="og:description" content="Website for the abnormal">
<meta property="og:url" content="https://asitynormalny.com">
<meta name="robots" content="noimageindex">
<style>

    header img#logo {
      width: 80%;
      max-width: 600px;
      height: auto;
      display: block;
      margin: 0 auto;
      -webkit-user-drag: none;
      -webkit-touch-callout: none;
      user-select: none;
      pointer-events: none;
    }

body {
  font-family: sans-serif;
  margin: 0;
  padding: 0;
  background: #000;   /* üîπ ƒçierne pozadie namiesto obr√°zku */
  color: #fff;
  text-align: center;
  min-height: 100vh;
}

header { padding:15px 20px; background:#111; display:flex; justify-content:center; align-items:center; gap:20px; position:relative;}
header img { max-width:600px; height:auto; cursor:pointer; }
.navbar { display:flex; justify-content:center; gap:20px; margin:15px 0; }
.navbar button { padding:10px 20px; font-size:16px; cursor:pointer; background:#222; color:#fff; border:none; border-radius:5px; }
.navbar button.active { background:#6772e5; }
.section {
  width: 100%;
  min-height: 100vh;
  opacity: 0;
  visibility: hidden;
  position: relative;   /* st√°le relative, nikdy absolute */
}

.section.active {
  opacity: 1;
  visibility: visible;
}

.product{margin:25px auto 30px auto; background:#111; padding:20px; max-width:420px; box-shadow:0 2px 5px rgba(255,255,255,0.2); border-radius:10px;}
.carousel{position:relative; margin-bottom:15px; display:flex; justify-content:center; align-items:center;}
.carousel img{max-width:100%; display:block; border-radius:5px; cursor:pointer;}
.arrow{position:absolute; top:50%; transform:translateY(-50%); font-size:30px; color:#fff; cursor:pointer; background:rgba(0,0,0,0.4); padding:25px 8px; border-radius:5px; user-select:none;}
.arrow.left{left:5px;} 
.arrow.right{right:5px;}
.size-container select, 
.qty-container select {
  width: 70%;
  padding: 10px;
  font-size: 16px;
  border-radius: 5px;
  border: none;

  /* üîπ vycentrovanie textu aj na iPhone */
  text-align: center;
  text-align-last: center; 
} 
.product button{padding:10px 20px; font-size:16px; cursor:pointer; background:#6772e5; color:#fff; border:none; border-radius:5px; margin-top:10px;}
label{display:block; margin-top:6px;}
.lightbox {
  display: none;
  position: fixed;
  inset: 0; /* shorthand pre top:0; right:0; bottom:0; left:0 */
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  justify-content: center;
  align-items: center;
  z-index: 1000;
  flex-direction: column;
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
}

/* Kontajner pre obr√°zok + kr√≠≈æik */
.lightbox-content {
  position: relative;
  display: inline-block;
  max-width: 90vw;
  max-height: 90vh;
}

/* Obr√°zok */
.lightbox-content img {
  width: auto;
  height: auto;
  max-width: 100%;
  max-height: 100%;
  border-radius: 5px;
  display: block;
  position: relative;
  z-index: 1005;
  object-fit: contain;
}

/* Kr√≠≈æik */
.lightbox-content .close-lightbox {
  position: absolute;
  top: -5px;
  right: 3px;
  font-size: 38px;
  line-height: 1;
  color:  #ff0000;
  background: none;
  border: none;
  cursor: pointer;
  transition: transform 0.15s ease, color 0.2s ease;
  z-index: 1020;
  -webkit-tap-highlight-color: transparent; /* zabr√°ni modr√©mu efektu po dotyku */
}

.lightbox-content .close-lightbox:hover {
  color: #ccc;
  transform: scale(1.1);
}



#contactFormContainer{ margin:40px auto; max-width:420px; text-align:center; background:#111; padding:20px; border-radius:10px; box-shadow:0 2px 5px rgba(255,255,255,0.2); }
#contactForm input, #contactForm textarea{ width:90%; padding:10px; margin:5px 0; border-radius:5px; border:none;}
#contactForm button{ padding:10px 20px; margin-top:10px; border:none; border-radius:5px; background:#6772e5; color:#fff; cursor:pointer; }


#photoContainer {
  display: grid;
  grid-template-columns: repeat(4, 1fr); /* 4 fotky na riadok na PC */
  gap: 5px;
  padding: 8px;
}


@media (max-width: 768px) {
  #photoContainer {
    grid-template-columns: repeat(2, 1fr); /* 2 fotky na riadok na mobil */
    gap: 5px;
    padding: 8px;
  }
}

#photoContainer img {
  width: 100%;
  height: auto;
  border-radius: 0px;
  cursor: pointer;
  object-fit: cover;
}


/* Z√°kaz stiahnutia v≈°etk√Ωch obr√°zkov */
#photoContainer img,
.carousel img,
#lightbox img {
    user-select: none;           /* zak√°≈æe v√Ωber textu/obr√°zkov */
    -webkit-user-drag: none;     /* zak√°≈æe drag & drop v Safari/Chrome */
    -moz-user-select: none;      /* Firefox */
    -ms-user-select: none;       /* IE/Edge */
    -webkit-touch-callout: none; /* zak√°≈æe "Save Image" na iOS */
    pointer-events: auto;        /* obr√°zky st√°le reaguj√∫ na klik */
}

/* Lightbox anim√°cia */
.lightbox img {
  opacity: 0;
  transform: scale(0.9); /* mierne zmen≈°en√Ω */
  transition: opacity 0.4s ease, transform 0.4s ease;
}

.lightbox.show img {
  opacity: 1;
  transform: scale(1); /* dorastie na 100% */
}

#messagePopup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #222;
  color: #fff;
  padding: 25px 30px;
  border-radius: 10px;
  box-shadow: 0 2px 15px rgba(0,0,0,0.5);
  z-index: 1002;
  text-align: center;
  opacity: 0;
  transition: opacity 0.3s ease, transform 0.3s ease;
  max-width: 95%;   
}

#messagePopup.show {
  display: block;
  opacity: 1;
}

#messagePopup button {
  margin:5px;
  padding:12px 18px;
  font-size: 16px;
  border:none;
  border-radius:5px;
  cursor:pointer;
  background:#6772e5;
  color:#fff;
}

#messagePopup #continueShoppingBtn {
  background:#6772e5; /* modr√© */
  color:#fff;
}

#messagePopup #viewCartBtn {
  background:#0f0;   /* zelen√© */
  color:#000;
}

/* Responz√≠vne ‚Äì rovnak√© ako addCartPopup */
@media (max-width:600px){
  #messagePopup {
    padding:12px 15px;
    font-size:14px;
  }
}

.tax-note {
  color: #aaa;
  font-size: 13px;
  margin-top: -16px;
  margin-bottom: 10px;
  font-style: monospace;
}
.product {
  position: relative; /* z√°klad pre absol√∫tnu poz√≠ciu raz√≠tka */
}

.limited-stamp {
  position: absolute;
  top: 20px;        /* zn√≠≈æi raz√≠tko, posunie ho ni≈æ≈°ie */
  right: 0px;      /* vzdialenos≈• od prav√©ho okraja produktu */
  background: rgba(255, 0, 0, 0.85);
  color: #fff;
  font-weight: bold;
  font-size: 14px;
  padding: 5px 10px;
  border-radius: 5px;
  z-index: 10;
  transform: rotate(8deg);
  transform-origin: top right;
  box-shadow: 0 2px 5px rgba(0,0,0,0.5);
}

/* Smooth 3D anim√°cia loga */
@keyframes logoTiltSmooth {
  0%   { transform: perspective(600px) rotateY(0deg) scale(1); }
  25%  { transform: perspective(600px) rotateY(45deg) scale(1.08); }
  50%  { transform: perspective(600px) rotateY(0deg) scale(1); }
  75%  { transform: perspective(600px) rotateY(-45deg) scale(1.08); }
  100% { transform: perspective(600px) rotateY(0deg) scale(1); }
}

header img#logo {
animation: logoTiltSmooth 9s cubic-bezier(0.645, 0.045, 0.355, 1) infinite; 
  transform-origin: center center; 
  display: block;
}

/* Responz√≠vne pre mobil */
@media (max-width: 768px) {
  header img#logo {
    width: 108%;  
    max-width: 500px; 
  }

}
.img-protect-wrapper {
  position: relative;
  display: inline-block;
}

.img-protect-wrapper img {
  display: block;
  pointer-events: none; /* obr√°zok nereaguje na dotyk */
}

.img-protect-wrapper .overlay {
  position: absolute;
  top:0; left:0;
  width:100%; height:100%;
  z-index:10;
}
.product-description {
  font-weight: 400;       /* norm√°lna hr√∫bka p√≠sma */
  font-size: 16px;        /* veƒækos≈• textu */
  line-height: 1.3;       /* v√Ω≈°ka riadku */
  margin: 0;              /* odstr√°ni medzery nad aj pod */
  padding: 0;
}
.product-description + .product-description {
  margin-top: 2px; /* len medzi nasleduj√∫cimi produkt-description */
}


/* TOPBAR */
.topbar {
  background: #000;              /* ƒçierny p√°s */
  color: #fff;
  display: flex;
  justify-content: flex-end;     /* obsah doprava */
  align-items: center;
  padding: 4px 12px;            /* p√¥vodn√° v√Ω≈°ka */
  margin: 0;
  width: 100%;
  box-sizing: border-box;
}

.topbar .cart-container {
  display: flex;
  align-items: center;
  gap: 10px;
}

.cart-icon {
  text-decoration: none;
  font-size: 16px;
  color: #fff;
  display: flex;
  align-items: center;
  gap: 6px; /* medzera medzi Cart a cenou */
  font-weight: bold;
}

.cart-price {
  font-weight: normal;  /* cena m√¥≈æe by≈• ten≈°ia, ak chce≈° */
  font-size: 15px;
}


#gdprModal .gdpr-content {
  position: relative;
  background: #111;
  padding: 20px;
  border-radius: 10px;
  color: #fff;
  max-width: 350px;
  width: 90%;
  box-sizing: border-box;
  text-align: center;   /* üîπ text na stred */
}

#gdprModal.show {
  display: flex;               /* keƒè sa zobraz√≠ ‚Üí flexbox vycentruje obsah */
}

#gdprModal .gdpr-content {
  position: relative;
  background: #111;
  padding: 20px;
  border-radius: 10px;
  color: #fff;
  max-width: 350px;
  width: 90%;
  box-sizing: border-box;
  text-align: center;   /* üîπ text na stred */
}

/* Kr√≠≈æik */
#gdprModal .close-btn {
  position: absolute;
  top: 8px;
  right: 10px;
  font-size: 28px;
  color: #ff0000;
  cursor: pointer;
  border: none;
  background: none;
  line-height: 1;
}

#gdprModal {
  display: none;               /* defaultne skryt√© */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.7); /* tmav√© pozadie */
  z-index: 2000;               /* nad v≈°etk√Ωm */
  justify-content: center;     /* vycentruj horizont√°lne */
  align-items: center;         /* vycentruj vertik√°lne */
}


@media (max-width: 768px) {
  .product {
    max-width: 86%;   /* produkt sa roztiahne skoro na cel√∫ ≈°√≠rku displeja */
  }
}

@media (max-width: 768px) {
  #contactFormContainer {
    max-width: 89%;   /* skoro cez cel√∫ ≈°√≠rku mobilu */
    padding: 15px;
  }
  #contactForm input, 
  #contactForm textarea {
    font-size: 14px;  /* men≈°√≠ text na mobiloch */
    padding: 8px;
  }
}

.section {
  min-height: 100vh;  /* v≈ædy aspo≈à v√Ω≈°ka obrazovky */
  width: 100%;        /* istota ≈æe sa roztiahne */
  box-sizing: border-box;
}


</style>
</head>
<body>

<!-- GDPR MODAL -->
<div id="gdprModal">
  <div class="gdpr-content">
    <span class="close-btn" id="closeGdpr">&times;</span>
    <h3>GDPR ‚Äì Data Protection</h3>
    We process your personal data only to handle your orders or contact you. 
    We do not share your data with third parties outside of these purposes. You have the right to request access, correction, or deletion of your data at any time.
    </p>
    <p>For more information, contact us at <strong>asitynormalny@gmail.com</strong></p>
  </div>
</div>

<div id="messagePopup">
  <p id="messageText"></p>
  <div style="margin-top: 15px;">
    <button id="continueShoppingBtn">Continue shopping</button>
    <button id="viewCartBtn">View cart</button>
  </div>
</div>

<!-- üîπ TOPBAR s ko≈°√≠kom -->
<div class="topbar">
  <div class="cart-container">
    <a class="cart-icon" href="cart.html" title="Cart">
      Cart üõí
    </a>
  </div>
</div>

<header>
  <img id="logo" src="Logo.webp" alt="Logo">
</header>


<div class="navbar">
<button id="shopBtn">Shop</button> 
<button id="photoBtn" class="active">Photos</button>

</div>

<!-- SHOP SECTION -->
<div id="shopSection" class="section">
  <!-- Produkt 1 -->
  <div class="product">
    <h2>Smoke Kit</h2>
    <div class="limited-stamp">Exclusive Design</div>
    <div class="carousel">
      <span class="arrow left" data-product="1">&#10094;</span>
      <img src="P1.webp" id="productImg1" alt="Smoke Kit">
      <span class="arrow right" data-product="1">&#10095;</span>
    </div>
    <div class="qty-container">
      <label for="quantity1">Quantity:</label>
      <select id="quantity1">
        <option value="1" selected>1</option>
        <option value="2">2</option>
        <option value="3">3</option>
      </select>
    </div>
    <p>Price: ‚Ç¨10.00</p>
    <p class="tax-note">Tax included.</p>
    <p class="product-description">1√ó Clipper lighter</p>
    <p class="product-description">1√ó 1¬º papers + tips
    <p class="product-description">1√ó King size slim papers + tips</p>
    <p class="product-description"> Hemp papers, slow‚Äëburning, Arabic gum</p>
    <p class="product-description">Made in Slovenia</p>
    <div class="add-cart-row" style="display:flex; align-items:center; justify-content:center; gap:15px;">
      <button class="addToCartBtn" data-product="Smoke Kit" data-price="10.00" data-size="" data-qty="quantity1">Add to Cart</button>
      </div>
    </div>

  <!-- Produkt 2 -->
  <div class="product">
    <h2>Poster A2</h2>
    <div class="carousel">
      <span class="arrow left" data-product="2">&#10094;</span>
      <img src="PR1.webp" id="productImg2" alt="Poster">
      <span class="arrow right" data-product="2">&#10095;</span>
    </div>
    <div class="size-container">
      <label for="size2">Size:</label>
      <select id="size2">
        <option value="A2" selected>A2</option>
      </select>
    </div>
    <div class="qty-container">
      <label for="quantity2">Quantity:</label>
      <select id="quantity2">
        <option value="1" selected>1</option>
        <option value="2">2</option>
        <option value="3">3</option>
      </select>
    </div>
    <p>Price: ‚Ç¨8.00</p>
    <p class="tax-note">Tax included.</p>
    <p class="product-description">225 g/m¬≤ matte paper</p>
    <p class="product-description">High-quality digital print</p>
<p class="product-description">Size: A2 (420 √ó 594 mm)</p>
<p class="product-description">Printed in Slovakia</p>
    <div class="add-cart-row" style="display:flex; align-items:center; justify-content:center; gap:15px;">
      <button class="addToCartBtn" data-product="Poster" data-price="8.00" data-size="size2" data-qty="quantity2">Add to Cart</button>
      </div>
    </div>

  <!-- FORMUL√ÅR KONTAKTUJTE N√ÅS (len tu) -->
  <div id="contactFormContainer">
    <h3>Contact us</h3>
    <form id="contactForm" action="https://formspree.io/f/xeolddoa" method="POST">
      <input type="text" name="name" placeholder="Name" required>
      <input type="email" name="email" placeholder="Email address" required>
      <textarea name="message" placeholder="Message" required></textarea>
      <button type="submit">Send</button>
    </form>
    <p id="contactStatus" style="margin-top:10px;"></p>
  </div>
</div>

<!-- PHOTOS SECTION -->
<div id="photoSection" class="section">
  <div id="photoContainer">
    <img src="8.jpg" alt="Foto1">
    <img src="8.jpg" alt="Foto1">
    <img src="ritka.jpg" alt="Foto1">
    <img src="8.jpg" alt="Foto1">
    <img src="1.jpg" alt="Foto1">
    <img src="1.jpg" alt="Foto1">
    <img src="2.jpg" alt="Foto1">
    <img src="1.jpg" alt="Foto1">
    <img src="1.jpg" alt="Foto1">
    <img src="1.jpg" alt="Foto1">
    <img src="2.jpg" alt="Foto1">
    <img src="1.jpg" alt="Foto1">
  </div>
</div>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox">
  <div class="lightbox-content">
    <span class="close-lightbox" id="closeLightbox">&times;</span>
    <img id="lightboxImg" src="">
  </div>
</div>

<script>
/* ====== SELECTORS (jednor√°zovo) ====== */
const shopBtn = document.getElementById('shopBtn');
const photoBtn = document.getElementById('photoBtn');
const shopSection = document.getElementById('shopSection');
const photoSection = document.getElementById('photoSection');

const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightboxImg');
const closeLightbox = document.getElementById('closeLightbox');

// Vyber v≈°etky obr√°zky, ktor√© chceme chr√°ni≈•
const protectedImages = document.querySelectorAll('#photoContainer img, .carousel img, #lightbox img');

protectedImages.forEach(img => {
  // zak√°≈æe prav√© kliknutie
  img.addEventListener('contextmenu', e => e.preventDefault());

  // zak√°≈æe drag & drop
  img.addEventListener('dragstart', e => e.preventDefault());

  // zak√°≈æe long press na mobiloch bez ovplyvnenia kliknutia
  img.addEventListener('touchstart', e => {
    img.dataset.touchStart = Date.now();
  }, { passive: true });

  img.addEventListener('touchend', e => {
    const duration = Date.now() - img.dataset.touchStart;
    if (duration > 500) { // dlh√© podr≈æanie
      e.preventDefault(); // zablokuje menu "Save image"
    }
    // kr√°tke tapy st√°le spustia click
  }, { passive: false });
   img.addEventListener('touchcancel', e => e.preventDefault());
});

// Kliknutie na obr√°zok (Photos + Shop) ost√°va rovnak√©
const productImages = document.querySelectorAll('.carousel img');
const photoImages = document.querySelectorAll('#photoContainer img');

[...productImages, ...photoImages].forEach(img => {
  img.addEventListener('click', () => openLightbox(img.src));
});

/* ====== SECTION SWITCH ====== */
function showSection(sectionToShow, sectionToHide, btnToActivate, btnToDeactivate) {
  sectionToHide.classList.remove('active');
  sectionToShow.classList.add('active');
  btnToActivate.classList.add('active');
  btnToDeactivate.classList.remove('active');
}

shopBtn.addEventListener('click', () => {
  showSection(shopSection, photoSection, shopBtn, photoBtn);
});
shopBtn.addEventListener('click', () => {
  showSection(shopSection, photoSection, shopBtn, photoBtn);
});

photoBtn.addEventListener('click', () => {
  showSection(photoSection, shopSection, photoBtn, shopBtn);
});

/* ====== LIGHTBOX (univerz√°lne pre shop + photos) ====== */
function openLightbox(src) {
  lightboxImg.src = src;
  lightbox.classList.remove('show'); // reset anim√°cie
  lightbox.style.display = 'flex';   // zobraz√≠me hneƒè
  lightboxImg.onload = () => {
    requestAnimationFrame(() => {
      lightbox.classList.add('show'); // spust√≠me fade/scale
      disableBodyScroll();
    });
  };
}


function closeLightboxFn() {
  lightbox.classList.remove('show');
  // nech√°me ƒças na CSS transition
  setTimeout(() => {
    lightbox.style.display = 'none';
    enableBodyScroll();
  }, 400);
}

// pripoj posluch√°ƒçov (shop)
productImages.forEach(img => {
  img.addEventListener('click', (e) => {
    e.stopPropagation();
    openLightbox(img.src);
  });
});

// pripoj posluch√°ƒçov (photos)
photoImages.forEach(img => {
  img.addEventListener('click', (e) => {
    e.stopPropagation();
    openLightbox(img.src);
  });
});

closeLightbox.addEventListener('click', (e) => {
  e.stopPropagation();
  closeLightboxFn();
});
lightbox.addEventListener('click', e => {
  if (e.target === lightbox) closeLightboxFn();
});

/* ====== CART (unchanged logic) ====== */
// --- LocalStorage ko≈°√≠k (zdieƒæan√Ω s cart.html) ---
function loadCart(){ try { return JSON.parse(localStorage.getItem('cartData')||'[]'); } catch(e){ return []; } }
function saveCart(data){ localStorage.setItem('cartData', JSON.stringify(data)); }

// Subtotal badge pri produktoch
function updateLocalSubtotalBadges(){
  const cart = loadCart();
  const subtotal = cart.reduce((s,i)=> s + i.price*i.qty, 0);
  document.querySelectorAll('.cart-price').forEach(e => e.textContent = "‚Ç¨" + subtotal.toFixed(2));
}

// ‚ÄûAdd to Cart‚Äú ‚Üí ulo≈æ√≠ do localStorage a obnov√≠ subtotal badge
document.querySelectorAll('.addToCartBtn').forEach(btn => {
  btn.addEventListener('click', () => {
    const product = btn.getAttribute('data-product');
    const price = parseFloat(btn.getAttribute('data-price'));
    const sizeId = btn.getAttribute('data-size');
    const size = sizeId ? document.getElementById(sizeId).value : "";
    const qty = parseInt(document.getElementById(btn.getAttribute('data-qty')).value) || 1;

    const cart = loadCart();
    const idx = cart.findIndex(i => i.product===product && i.size===size && i.price===price);
    if(idx>-1){ cart[idx].qty += qty; } else { cart.push({ product, size, price, qty }); }
    saveCart(cart);
    updateLocalSubtotalBadges();

    showMessage('Product added to cart successfully !');
  });
});

// po naƒç√≠tan√≠ str√°nky aktualizuj subtotal badge
window.addEventListener('load', updateLocalSubtotalBadges);


/* ====== CAROUSEL (unchanged) ====== */
const productImgs = [
  ["P1.webp", "P2.webp", "P3.webp", "P4.webp", "P5.webp"], 
  ["PR1.webp", "PR2.webp"]           
];
let currentImgs = [0,0];

document.querySelectorAll('.arrow.left').forEach(a=>{
  a.addEventListener('click', ()=>{
    const p = parseInt(a.getAttribute('data-product')) - 1;
    currentImgs[p] = (currentImgs[p] - 1 + productImgs[p].length) % productImgs[p].length;
    document.getElementById('productImg' + (p+1)).src = productImgs[p][currentImgs[p]];
  });
});
document.querySelectorAll('.arrow.right').forEach(a=>{
  a.addEventListener('click', ()=>{
    const p = parseInt(a.getAttribute('data-product')) - 1;
    currentImgs[p] = (currentImgs[p] + 1) % productImgs[p].length;
    document.getElementById('productImg' + (p+1)).src = productImgs[p][currentImgs[p]];
  });
});


/* ====== CONTACT ====== */
const contactForm = document.getElementById('contactForm');
const contactStatus = document.getElementById('contactStatus');
if (contactForm) {
  contactForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const data = new FormData(contactForm);
    try {
      const response = await fetch(contactForm.action, { method: 'POST', body: data, headers: { 'Accept': 'application/json' } });
      if (response.ok) {
        contactStatus.textContent = "Your message was sent !";
        contactStatus.style.color = "#0f0";
        contactForm.reset();
        setTimeout(() => { contactStatus.textContent = ""; }, 5000);
      } else {
        showMessage("Error sending message ! Please try again.");
      }
    } catch (err) {
      showMessage("Error sending message !");
    }
  });
}

/* ====== PREVENT RIGHT CLICK / DRAG ON PHOTOS ====== */
[...photoImages, ...productImages].forEach(img => {
  img.addEventListener('contextmenu', e => e.preventDefault());
  img.addEventListener('dragstart', e => e.preventDefault());
});

/* ====== SCROLL TO TOP ON LOAD ====== */
window.history.scrollRestoration = "manual";
window.addEventListener("beforeunload", () => window.scrollTo(0,0));


/* ====== BODY SCROLL LOCK ====== */
let scrollDisabled = false;
let scrollPos = 0;

function disableBodyScroll() {
  if (!scrollDisabled) {
    scrollPos = window.pageYOffset || document.documentElement.scrollTop;
    document.body.style.overflow = 'hidden';
    document.body.style.touchAction = 'none';
    scrollDisabled = true;
  }
}

function enableBodyScroll() {
  if (scrollDisabled) {
    document.body.style.overflow = '';
    document.body.style.touchAction = '';
    window.scrollTo(0, scrollPos);
    scrollDisabled = false;
  }
}


/* ====== DYNAMIC FOOTERS ====== */
// Funkcia pre Shop footer (GDPR + All rights reserved)
function addShopFooter() {
  const section = document.getElementById('shopSection');
  const footer = document.createElement('p');
  const year = new Date().getFullYear();

  // GDPR tlaƒçidlo
  const gdprBtn = document.createElement('button');
  gdprBtn.textContent = 'Privacy Policy / GDPR';
  gdprBtn.style.marginBottom = '5px';
  gdprBtn.style.display = 'inline';
  gdprBtn.style.padding = '0';          
  gdprBtn.style.border = 'none';
  gdprBtn.style.background = 'none';
  gdprBtn.style.color = '#FF0000';
  gdprBtn.style.fontWeight = '700';
  gdprBtn.style.textDecoration = 'underline';
  gdprBtn.style.fontSize = '14px';
  gdprBtn.style.cursor = 'pointer';


  gdprBtn.addEventListener('click', () => {
    document.getElementById('gdprModal').classList.add('show');
    disableBodyScroll();
  });

  footer.style.marginTop = '30px';
  footer.style.fontSize = '14px';
  footer.style.fontWeight = '700';
  footer.style.color = '#FF0000';
  footer.style.textAlign = 'center';

  footer.appendChild(gdprBtn);
  footer.appendChild(document.createElement('br')); // riadok medzi tlaƒçidlom a textom
  footer.appendChild(document.createTextNode(`¬© ${year} All rights reserved`));

  section.appendChild(footer);
}

// Funkcia pre Photos footer (len All rights reserved)
function addPhotoFooter() {
  const section = document.getElementById('photoSection');
  const footer = document.createElement('p');
  const year = new Date().getFullYear();

  footer.style.marginTop = '30px';
  footer.style.fontSize = '14px';
  footer.style.fontWeight = '700';
  footer.style.color = '#aaa';
  footer.style.textAlign = 'center';

  footer.textContent = `¬© ${year} All rights reserved`;

  section.appendChild(footer);
}

// Zavol√°me ich
addShopFooter();
addPhotoFooter();

const closeGdpr = document.getElementById('closeGdpr');
const gdprModal = document.getElementById('gdprModal');

closeGdpr.addEventListener('click', () => {
  gdprModal.classList.remove('show');
  enableBodyScroll();
});

gdprModal.addEventListener('click', e => {
  if (e.target === gdprModal) {
    gdprModal.classList.remove('show');
    enableBodyScroll();
  }
});


const messagePopup = document.getElementById('messagePopup');
const messageText = document.getElementById('messageText');
const continueShoppingBtn = document.getElementById('continueShoppingBtn');
const viewCartBtn = document.getElementById('viewCartBtn');

function showMessage(msg) {
  messageText.textContent = msg;
  messagePopup.classList.add('show');
  disableBodyScroll();
}

continueShoppingBtn.addEventListener('click', () => {
  messagePopup.classList.remove('show');
  enableBodyScroll();
});

viewCartBtn.addEventListener('click', () => {
  messagePopup.classList.remove('show');
  enableBodyScroll();
  window.location.href = "cart.html#shop"; // presmeruje na ko≈°√≠k
});

function enableBodyScroll() {
  if (lightbox.classList.contains('show') || gdprModal.classList.contains('show') || messagePopup.classList.contains('show')) {
    return;
  }
  if (scrollDisabled) {
    document.body.style.overflow = '';
    document.body.style.touchAction = '';
    window.scrollTo(0, scrollPos);
    scrollDisabled = false;
  }
}


window.addEventListener('load', () => {
  const logo = document.getElementById('logo');
  logo.style.transition = "transform 0.6s ease-out";
  logo.style.transform = "perspective(600px) rotateY(0deg) scale(1.2)"; // zaƒçneme v√§ƒç≈°ie
  setTimeout(() => {
    logo.style.transform = "perspective(600px) rotateY(0deg) scale(1)"; // zmen≈°√≠ sa na norm√°lnu veƒækos≈•
  }, 50);
});

window.addEventListener('load', () => {
  if (window.location.hash === '#shop') {
    // ak prich√°dzam z cart.html ‚Üí rovno otvor Shop
    showSection(shopSection, photoSection, shopBtn, photoBtn);
  } else {
    // inak (reload alebo priamo otvorenie indexu) ‚Üí Photos
    showSection(photoSection, shopSection, photoBtn, shopBtn);
  }
});



</script>
</body>
</html>

